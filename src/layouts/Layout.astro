---
import { ClientRouter } from "astro:transitions";
import NavLink from "@components/NavLink.astro";

interface Props {
  title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <meta
      name="description"
      content="Otako Land - Comunidad gaming con servidores de Minecraft, bots de Discord y herramientas para gamers. ¡Únete a nuestra comunidad!"
    />
    <meta
      name="keywords"
      content="otako land, gaming, minecraft server, discord community, kaizen tool, gaming community, minecraft java, minecraft bedrock"
    />
    <meta name="author" content="The Ghost" />
    <meta name="theme-color" content="#923ed6" />

    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://otako.link" />
    <meta property="og:site_name" content="Otako Land" />
    <meta property="og:title" content={title} />
    <meta
      property="og:description"
      content="Otako Land - Comunidad gaming con servidores de Minecraft, bots de Discord y herramientas para gamers. ¡Únete a nuestra comunidad!"
    />
    <meta property="og:image" content="https://otako.link/logo.webp" />
    <meta property="og:image:alt" content="Logo de Otako Land" />
    <meta property="og:locale" content="es_ES" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content={title} />
    <meta
      name="twitter:description"
      content="Otako Land - Comunidad gaming con servidores de Minecraft, bots de Discord y herramientas para gamers"
    />
    <meta name="twitter:image" content="/logo.webp" />
    <meta name="twitter:image:alt" content="Logo de Otako Land" />

    <link rel="icon" type="image/svg+xml" href="https://otako.link/logo.webp" />
    <link rel="canonical" href="https://otako.link" />
    <ClientRouter />
    <title>{title} | Otako Land</title>
  </head>
  <body class="flex flex-col min-h-screen bg-gray-900 text-gray-100">
    <header class="header" role="banner">
      <a href="/" class="logo-link group" aria-label="Inicio - Otako Land">
        <div class="logo-container">
          <img
            src="/logo.webp"
            alt="Logo de Otako Land"
            class="logo"
            width="48"
            height="48"
          />
          <div class="logo-blur" aria-hidden="true"></div>
        </div>
        <span class="brand-name">Otako Land</span>
      </a>
      <nav class="main-nav" role="navigation" aria-label="Navegación principal">
        <NavLink
          link="/minecraft"
          text="Minecraft"
          ariaLabel="Ir a la sección de Minecraft"
        />
        <NavLink
          link="/kaizen"
          text="Kaizen"
          ariaLabel="Ir a la sección de Kaizen"
        />
        <NavLink
          link="/discord"
          text="Discord"
          ariaLabel="Unirse a nuestro Discord"
        />
      </nav>
    </header>
    <main class="main-content">
      <slot />
    </main>
    <footer class="footer" role="contentinfo">
      <div class="footer-content">
        <p class="copyright">
          © 2025 Otako Land. Todos los derechos reservados.
        </p>
        <nav class="footer-nav" role="navigation" aria-label="Enlaces legales">
          <a
            href="/tos"
            class="footer-link"
            aria-label="Ver términos de servicio">Términos de Servicio</a
          >
          <a
            href="/privacy"
            class="footer-link"
            aria-label="Ver política de privacidad">Política de Privacidad</a
          >
        </nav>
      </div>
    </footer>
  </body>
</html>

<style is:global>
  .link {
    color: #bc75ff;
    text-decoration: none;
    position: relative;
    transition: color 0.3s ease;
  }

  .link::after {
    content: "";
    position: absolute;
    width: 100%;
    height: 1px;
    bottom: -2px;
    left: 0;
    background-color: #923ed6;
    transform: scaleX(0);
    transform-origin: left;
    transition: transform 0.3s ease;
  }

  .link:hover {
    color: #a555ff;
  }

  .link:hover::after {
    transform: scaleX(1);
  }

  .header {
    @apply px-4 sm:px-6 lg:px-8 h-16 flex items-center backdrop-blur-md bg-gray-800/50 fixed w-full top-0 z-50 border-b border-purple-500/30 shadow-lg shadow-purple-500/10;
  }

  .logo-link {
    @apply flex items-center relative transition-all duration-500 hover:scale-105;
  }

  .logo-container {
    @apply relative;
  }

  .logo {
    @apply w-10 h-10 sm:w-12 sm:h-12 rounded-full shadow-md shadow-purple-500/40 ring-2 ring-purple-500/30 group-hover:ring-4 group-hover:ring-purple-400/60 transition-all duration-500 group-hover:shadow-purple-500/60;
  }

  .logo-blur {
    @apply absolute inset-0 rounded-full bg-purple-500/20 group-hover:bg-purple-500/30 blur-md transition-all duration-500 -z-10;
  }

  .brand-name {
    @apply hidden sm:block ml-3 text-xl sm:text-2xl font-extrabold bg-gradient-to-r from-purple-300 via-pink-400 to-purple-500 bg-clip-text text-transparent transition-[background-position,colors] duration-500 bg-[size:200%] bg-left hover:bg-right;
  }

  .main-nav {
    @apply ml-auto flex gap-4 sm:gap-8;
  }

  .main-content {
    @apply flex-1 bg-gray-900;
  }

  .footer {
    @apply w-full shrink-0 border-t border-purple-700/30 px-4 py-6;
  }

  .footer-content {
    @apply flex flex-col items-center gap-3 sm:flex-row sm:justify-between;
  }

  .copyright {
    @apply text-sm text-gray-400;
  }

  .footer-nav {
    @apply flex gap-4 text-sm text-gray-400;
  }

  .footer-link {
    @apply hover:text-purple-300 transition-all duration-300 relative;
  }

  .footer-link::after {
    content: "";
    @apply absolute bottom-0 left-0 w-full h-[1px] bg-purple-300 scale-x-0 origin-left transition-transform;
  }

  .footer-link:hover::after {
    @apply scale-x-100;
  }
</style>
